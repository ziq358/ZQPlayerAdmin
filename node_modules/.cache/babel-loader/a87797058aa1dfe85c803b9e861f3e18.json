{"ast":null,"code":"import \"antd/lib/icon/style\";\nimport _Icon from \"antd/lib/icon\";\nimport \"antd/lib/notification/style\";\nimport _notification from \"antd/lib/notification\";\nimport \"antd/lib/layout/style\";\nimport _Layout from \"antd/lib/layout\";\nvar _jsxFileName = \"/Users/wuyanqiang/Documents/h5/zqplayer-admin/src/App.tsx\";\nimport React, { Component } from 'react';\nimport Routes from './routes';\nimport DocumentTitle from 'react-document-title';\nimport SiderCustom from './components/SiderCustom';\nimport HeaderCustom from './components/HeaderCustom';\nimport { ThemePicker } from './components/widget';\nimport { connectAlita } from 'redux-alita';\nimport { checkLogin } from './utils';\nconst Content = _Layout.Content,\n      Footer = _Layout.Footer;\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      collapsed: false,\n      title: ''\n    };\n\n    this.getClientWidth = () => {\n      // 获取当前浏览器宽度并设置responsive管理响应式\n      const setAlitaState = this.props.setAlitaState;\n      const clientWidth = window.innerWidth;\n      console.log(clientWidth);\n      setAlitaState({\n        stateName: 'responsive',\n        data: {\n          isMobile: clientWidth <= 992\n        }\n      }); // receiveData({isMobile: clientWidth <= 992}, 'responsive');\n    };\n\n    this.toggle = () => {\n      this.setState({\n        collapsed: !this.state.collapsed\n      });\n    };\n  }\n\n  componentWillMount() {\n    const setAlitaState = this.props.setAlitaState;\n    let user,\n        storageUser = localStorage.getItem('user');\n    user = storageUser && JSON.parse(storageUser); // user && receiveData(user, 'auth');\n\n    user && setAlitaState({\n      stateName: 'auth',\n      data: user\n    }); // receiveData({a: 213}, 'auth');\n    // fetchData({funcName: 'admin', stateName: 'auth'});\n\n    this.getClientWidth();\n\n    window.onresize = () => {\n      console.log('屏幕变化了');\n      this.getClientWidth();\n    };\n  }\n\n  componentDidMount() {\n    const openNotification = () => {\n      _notification.open({\n        message: '博主-yezihaohao',\n        description: React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45\n          },\n          __self: this\n        }, \"GitHub\\u5730\\u5740\\uFF1A\", ' ', React.createElement(\"a\", {\n          href: \"https://github.com/yezihaohao\",\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47\n          },\n          __self: this\n        }, \"https://github.com/yezihaohao\")), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }, \"\\u535A\\u5BA2\\u5730\\u5740\\uFF1A\", ' ', React.createElement(\"a\", {\n          href: \"https://yezihaohao.github.io/\",\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }, \"https://yezihaohao.github.io/\"))),\n        icon: React.createElement(_Icon, {\n          type: \"smile-circle\",\n          style: {\n            color: 'red'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }),\n        duration: 0\n      });\n\n      localStorage.setItem('isFirst', JSON.stringify(true));\n    };\n\n    const storageFirst = localStorage.getItem('isFirst');\n\n    if (storageFirst) {\n      const isFirst = JSON.parse(storageFirst);\n      !isFirst && openNotification();\n    }\n  }\n\n  render() {\n    const title = this.state.title;\n    const _this$props = this.props,\n          _this$props$auth = _this$props.auth,\n          auth = _this$props$auth === void 0 ? {\n      data: {}\n    } : _this$props$auth,\n          _this$props$responsiv = _this$props.responsive,\n          responsive = _this$props$responsiv === void 0 ? {\n      data: {}\n    } : _this$props$responsiv;\n    return React.createElement(DocumentTitle, {\n      title: title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(_Layout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, !responsive.data.isMobile && checkLogin(auth.data.permissions) && React.createElement(SiderCustom, {\n      collapsed: this.state.collapsed,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(ThemePicker, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), React.createElement(_Layout, {\n      style: {\n        flexDirection: 'column'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(HeaderCustom, {\n      toggle: this.toggle,\n      collapsed: this.state.collapsed,\n      user: auth.data || {},\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }), React.createElement(Content, {\n      style: {\n        margin: '0 16px',\n        overflow: 'initial',\n        flex: '1 1 0'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(Routes, {\n      auth: auth,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    })), React.createElement(Footer, {\n      style: {\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"React-Admin \\xA9\", new Date().getFullYear(), \" Created by 865470087@qq.com\"))));\n  }\n\n}\n\nexport default connectAlita(['auth', 'responsive'])(App);","map":{"version":3,"sources":["/Users/wuyanqiang/Documents/h5/zqplayer-admin/src/App.tsx"],"names":["React","Component","Routes","DocumentTitle","SiderCustom","HeaderCustom","ThemePicker","connectAlita","checkLogin","Content","Footer","App","state","collapsed","title","getClientWidth","setAlitaState","props","clientWidth","window","innerWidth","console","log","stateName","data","isMobile","toggle","setState","componentWillMount","user","storageUser","localStorage","getItem","JSON","parse","onresize","componentDidMount","openNotification","open","message","description","icon","color","duration","setItem","stringify","storageFirst","isFirst","render","auth","responsive","permissions","flexDirection","margin","overflow","flex","textAlign","Date","getFullYear"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Routes from './routes';\nimport DocumentTitle from 'react-document-title';\nimport SiderCustom from './components/SiderCustom';\nimport HeaderCustom from './components/HeaderCustom';\nimport { Layout, notification, Icon } from 'antd';\nimport { ThemePicker } from './components/widget';\nimport { connectAlita } from 'redux-alita';\nimport { checkLogin } from './utils';\n\nconst { Content, Footer } = Layout;\n\ntype AppProps = {\n    setAlitaState: (param: any) => void;\n    auth: any;\n    responsive: any;\n};\n\nclass App extends Component<AppProps> {\n    state = {\n        collapsed: false,\n        title: '',\n    };\n    componentWillMount() {\n        const { setAlitaState } = this.props;\n        let user,\n            storageUser = localStorage.getItem('user');\n        user = storageUser && JSON.parse(storageUser);\n        // user && receiveData(user, 'auth');\n        user && setAlitaState({ stateName: 'auth', data: user });\n        // receiveData({a: 213}, 'auth');\n        // fetchData({funcName: 'admin', stateName: 'auth'});\n        this.getClientWidth();\n        window.onresize = () => {\n            console.log('屏幕变化了');\n            this.getClientWidth();\n        };\n    }\n    componentDidMount() {\n        const openNotification = () => {\n            notification.open({\n                message: '博主-yezihaohao',\n                description: (\n                    <div>\n                        <p>\n                            GitHub地址：{' '}\n                            <a\n                                href=\"https://github.com/yezihaohao\"\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                            >\n                                https://github.com/yezihaohao\n                            </a>\n                        </p>\n                        <p>\n                            博客地址：{' '}\n                            <a\n                                href=\"https://yezihaohao.github.io/\"\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                            >\n                                https://yezihaohao.github.io/\n                            </a>\n                        </p>\n                    </div>\n                ),\n                icon: <Icon type=\"smile-circle\" style={{ color: 'red' }} />,\n                duration: 0,\n            });\n            localStorage.setItem('isFirst', JSON.stringify(true));\n        };\n        const storageFirst = localStorage.getItem('isFirst');\n        if (storageFirst) {\n            const isFirst = JSON.parse(storageFirst);\n            !isFirst && openNotification();\n        }\n    }\n    getClientWidth = () => {\n        // 获取当前浏览器宽度并设置responsive管理响应式\n        const { setAlitaState } = this.props;\n        const clientWidth = window.innerWidth;\n        console.log(clientWidth);\n        setAlitaState({ stateName: 'responsive', data: { isMobile: clientWidth <= 992 } });\n        // receiveData({isMobile: clientWidth <= 992}, 'responsive');\n    };\n    toggle = () => {\n        this.setState({\n            collapsed: !this.state.collapsed,\n        });\n    };\n    render() {\n        const { title } = this.state;\n        const { auth = { data: {} }, responsive = { data: {} } } = this.props;\n        return (\n            <DocumentTitle title={title}>\n                <Layout>\n                    {!responsive.data.isMobile && checkLogin(auth.data.permissions) && (\n                        <SiderCustom collapsed={this.state.collapsed} />\n                    )}\n                    <ThemePicker />\n                    <Layout style={{ flexDirection: 'column' }}>\n                        <HeaderCustom\n                            toggle={this.toggle}\n                            collapsed={this.state.collapsed}\n                            user={auth.data || {}}\n                        />\n                        <Content style={{ margin: '0 16px', overflow: 'initial', flex: '1 1 0' }}>\n                            <Routes auth={auth} />\n                        </Content>\n                        <Footer style={{ textAlign: 'center' }}>\n                            React-Admin ©{new Date().getFullYear()} Created by 865470087@qq.com\n                        </Footer>\n                    </Layout>\n                </Layout>\n            </DocumentTitle>\n        );\n    }\n}\n\nexport default connectAlita(['auth', 'responsive'])(App);\n"]},"metadata":{},"sourceType":"module"}