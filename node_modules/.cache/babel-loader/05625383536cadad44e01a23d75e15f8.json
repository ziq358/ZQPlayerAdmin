{"ast":null,"code":"import \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/modal/style\";\nimport _Modal from \"antd/lib/modal\";\nimport \"antd/lib/radio/style\";\nimport _Radio from \"antd/lib/radio\";\nimport \"antd/lib/input/style\";\nimport _Input from \"antd/lib/input\";\nimport \"antd/lib/form/style\";\nimport _Form from \"antd/lib/form\";\nvar _jsxFileName = \"/Users/wuyanqiang/Documents/h5/zqplayer-admin/src/components/forms/ModalForm.tsx\";\n\n/**\n * Created by hao.cheng on 2017/4/15.\n */\nimport React, { Component } from 'react';\nconst FormItem = _Form.Item;\n\nconst CollectionCreateForm = _Form.create()(props => {\n  const visible = props.visible,\n        onCancel = props.onCancel,\n        onCreate = props.onCreate,\n        form = props.form;\n  const _ref = form,\n        getFieldDecorator = _ref.getFieldDecorator;\n  return React.createElement(_Modal, {\n    visible: visible,\n    title: \"\\u521B\\u5EFA\\u65B0\\u6536\\u85CF\",\n    okText: \"\\u521B\\u5EFA\",\n    onCancel: onCancel,\n    onOk: onCreate,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }, React.createElement(_Form, {\n    layout: \"vertical\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, React.createElement(FormItem, {\n    label: \"\\u6807\\u9898\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, getFieldDecorator('title', {\n    rules: [{\n      required: true,\n      message: '请输入收藏的标题!'\n    }]\n  })(React.createElement(_Input, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }))), React.createElement(FormItem, {\n    label: \"\\u63CF\\u8FF0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, getFieldDecorator('description')(React.createElement(_Input, {\n    type: \"textarea\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }))), React.createElement(FormItem, {\n    className: \"collection-create-form_last-form-item\",\n    style: {\n      marginBottom: 0\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, getFieldDecorator('modifier', {\n    initialValue: 'public'\n  })(React.createElement(_Radio.Group, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(_Radio, {\n    value: \"public\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"\\u516C\\u5F00\"), React.createElement(_Radio, {\n    value: \"private\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, \"\\u79C1\\u6709\"))))));\n});\n\nclass ModalForm extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      visible: false\n    };\n    this.form = void 0;\n\n    this.showModal = () => {\n      this.setState({\n        visible: true\n      });\n    };\n\n    this.handleCancel = () => {\n      this.setState({\n        visible: false\n      });\n    };\n\n    this.handleCreate = () => {\n      const form = this.form;\n      form.validateFields((err, values) => {\n        if (err) {\n          return;\n        }\n\n        console.log('Received values of form: ', values);\n        form.resetFields();\n        this.setState({\n          visible: false\n        });\n      });\n    };\n\n    this.saveFormRef = form => {\n      this.form = form;\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(_Button, {\n      type: \"primary\",\n      onClick: this.showModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"\\u65B0\\u5EFA\\u6536\\u85CF\"), React.createElement(CollectionCreateForm, {\n      ref: this.saveFormRef,\n      visible: this.state.visible,\n      onCancel: this.handleCancel,\n      onCreate: this.handleCreate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default ModalForm;","map":{"version":3,"sources":["/Users/wuyanqiang/Documents/h5/zqplayer-admin/src/components/forms/ModalForm.tsx"],"names":["React","Component","FormItem","Item","CollectionCreateForm","create","props","visible","onCancel","onCreate","form","getFieldDecorator","rules","required","message","marginBottom","initialValue","ModalForm","state","showModal","setState","handleCancel","handleCreate","validateFields","err","values","console","log","resetFields","saveFormRef","render"],"mappings":"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","sourcesContent":["/**\n * Created by hao.cheng on 2017/4/15.\n */\nimport React, { Component } from 'react';\nimport { Button, Modal, Form, Input, Radio } from 'antd';\nimport { FormProps } from 'antd/lib/form';\nconst FormItem = Form.Item;\n\ntype CollectionCreateFormProps = {\n    visible: boolean;\n    onCancel: () => void;\n    onCreate: () => void;\n    ref: any;\n} & FormProps;\n\nconst CollectionCreateForm: any = Form.create()((props: CollectionCreateFormProps) => {\n    const { visible, onCancel, onCreate, form } = props;\n    const { getFieldDecorator } = form!;\n    return (\n        <Modal\n            visible={visible}\n            title=\"创建新收藏\"\n            okText=\"创建\"\n            onCancel={onCancel}\n            onOk={onCreate}\n        >\n            <Form layout=\"vertical\">\n                <FormItem label=\"标题\">\n                    {getFieldDecorator('title', {\n                        rules: [{ required: true, message: '请输入收藏的标题!' }],\n                    })(<Input />)}\n                </FormItem>\n                <FormItem label=\"描述\">\n                    {getFieldDecorator('description')(<Input type=\"textarea\" />)}\n                </FormItem>\n                <FormItem\n                    className=\"collection-create-form_last-form-item\"\n                    style={{ marginBottom: 0 }}\n                >\n                    {getFieldDecorator('modifier', {\n                        initialValue: 'public',\n                    })(\n                        <Radio.Group>\n                            <Radio value=\"public\">公开</Radio>\n                            <Radio value=\"private\">私有</Radio>\n                        </Radio.Group>\n                    )}\n                </FormItem>\n            </Form>\n        </Modal>\n    );\n});\n\nclass ModalForm extends Component {\n    state = {\n        visible: false,\n    };\n    form: any;\n    showModal = () => {\n        this.setState({ visible: true });\n    };\n    handleCancel = () => {\n        this.setState({ visible: false });\n    };\n    handleCreate = () => {\n        const form = this.form;\n        form.validateFields((err: any, values: any) => {\n            if (err) {\n                return;\n            }\n\n            console.log('Received values of form: ', values);\n            form.resetFields();\n            this.setState({ visible: false });\n        });\n    };\n    saveFormRef = (form: any) => {\n        this.form = form;\n    };\n    render() {\n        return (\n            <div>\n                <Button type=\"primary\" onClick={this.showModal}>\n                    新建收藏\n                </Button>\n                <CollectionCreateForm\n                    ref={this.saveFormRef}\n                    visible={this.state.visible}\n                    onCancel={this.handleCancel}\n                    onCreate={this.handleCreate}\n                />\n            </div>\n        );\n    }\n}\n\nexport default ModalForm;\n"]},"metadata":{},"sourceType":"module"}